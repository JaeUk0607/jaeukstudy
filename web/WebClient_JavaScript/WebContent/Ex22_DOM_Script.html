<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<style type="text/css">
		table{width: 100%}
		table,tr,th,td {border: 1px solid; border-collapse: collapse;}
		td{background-color: gold; text-align: center;}
	</style>
	<script type="text/javascript">
		/*
		window.onload =function(){
			document.getElementById("b1").onclick =function(){
				//동적으로 생성되는 테이블
			}
			document.getElementById("b2").onclick =function(){
				//생성된 테이블 삭제
			}
		}
		*/
		function createTable(){
			//동적으로 생성되는 테이블
			/*
			2행 2열 (text 값)
			<table id="tab">
				<tr><td></td><td></td></tr>
				<tr><td></td><td></td></tr>
			</table>
			
			만들어진 table body > div >  의 자식요소로 추가
						
			*/
			var intRow = parseInt(document.getElementById("txtrow").value);
			var intColumn = parseInt(document.getElementById("txtcolumn").value);
			
			var eletable = document.createElement("table");
			eletable.setAttribute("id", "Tab");
			//<table id="Tab"></table>
			
			for(var i = 0 ; i < intRow ; i++){
				var elerow = document.createElement("tr");
				for(var j = 0 ; j < intColumn ; j++){
					if( i == 0){
						var eCell = document.createElement("th");
						var eText = document.createTextNode((i+1)+"행" + ","+(j+1)+"열");
						eCell.appendChild(eText);
						elerow.appendChild(eCell);
						//<tr><th>1행1열</th></tr>
					}else{
						var eCell = document.createElement("td");
						var eText = document.createTextNode((i+1)+"행" + ","+(j+1)+"열");
						eCell.appendChild(eText); // 추가
						elerow.appendChild(eCell);
					}
				}
				//tr 생성시 
				eletable.appendChild(elerow); //Table tr add
			}
			//body 
			document.getElementById("div").appendChild(eletable);

		}
		function deleteTable(){
			//생성된 테이블 삭제
			//1. Table id="Tab"
			//같은 id 가진 Table 여러개 있다
			/* var tab = document.getElementById("Tab");//하나의 요소만 가지고 와요 (제일 먼저 만나는 자식)
			console.log(tab);
			document.getElementById("div").removeChild(Tab); */
			//삭제 (먼저 생성된 것부터 >>형부터 삭제 >>같은ID라면)
			//id="A"
			//id="A"
			
			//2. Table id 가 없다면
			//document.getElementsByName(name)
			//document.getElementByClassName(name)
			var tables = document.getElementsByTagName("table");//page 안에있는 table 요소 다가지고 와요 (nod list)
			//console.log(tables);
			//console.log(tables.length);
			//console.log(tables[tables.length-1]);
			//Array 를 return ok
			
			//마지막에 생성된 테이블 부터 삭제하구싶어요
			if(tables.length>0){
				document.getElementById("div").removeChild(tables[tables.length-1])
			}else{
				alert("모두삭제되었습니다");
			}
				
		}
	</script>
</head>
<body>
	<div id="div">
			행의수 : <input type="text" id="txtrow" name="txtrow" value="2"><br>
			열의수 : <input type="text" id="txtcolumn" name="txtcolumn" value="2"><br>
			<input type="button" id="b1" value="동적테이블 생성" onclick="createTable()">
			<input type="button" id="b2"  value="동적테이블 제거" onclick="deleteTable()">
	</div>
</body>
</html>